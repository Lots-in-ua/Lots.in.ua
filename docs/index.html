<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Lots UA ‚Äî —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∞</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

  <!-- Font Awesome (—ñ–∫–æ–Ω–∫–∞ ¬´home¬ª) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!-- AwesomeMarkers 2.0.4 (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π CDN-–∞–¥—Ä–µ—Å) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.awesome-markers@2.0.4/dist/leaflet.awesome-markers.css">
  <script src="https://unpkg.com/leaflet.awesome-markers@2.0.4/dist/leaflet.awesome-markers.js"></script>

  <style>
    body{margin:0;font-family:Arial,sans-serif;height:100vh;text-align:center}
    #map{height:calc(100vh - 60px)}
    .header{display:flex;justify-content:space-between;align-items:center;
            background:linear-gradient(to right,#0057B7,#FFD700);
            padding:5px 10px;color:#fff;font-weight:bold}
    .header .title{flex-grow:1;text-align:center;font-size:20px}
    .legend{background:rgba(255,255,255,.9);padding:6px 8px;border-radius:4px;
            box-shadow:0 0 4px rgba(0,0,0,.2);font-size:14px;line-height:22px}
    .legend img{vertical-align:middle;margin-right:4px}
  </style>
</head>
<body>
  <div class="header">
    <div>+380&nbsp;68&nbsp;715&nbsp;59&nbsp;96</div>
    <div class="title">–ê–∫—Ç—É–∞–ª—å–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó</div>
  </div>
  <div id="map"></div>

<script>
/* ===== 1.  –ö–∞—Ä—Ç–∞ ========================================================== */
const map=L.map('map').setView([50.4501,30.5234],8);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
  {attribution:'&copy; OpenStreetMap contributors'}).addTo(map);

/* ===== 2.  –Ü–∫–æ–Ω–∫–∏ ========================================================= */
const base='https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/';
const shadow=base+'marker-shadow.png';

function getIcon(color,type){
  if(type==='house'){         // –±—É–¥–∏–Ω–æ—á–æ–∫
    return L.AwesomeMarkers.icon({
      prefix:'fa',
      icon:'home',
      markerColor:color       // blue, green, red, yellow, orange
    });
  }
  // –∑–≤–∏—á–∞–π–Ω–∞ –∫—Ä–∞–ø–µ–ª—å–∫–∞
  return new L.Icon({
    iconUrl:base+`marker-icon-${color}.png`,
    shadowUrl:shadow,
    iconSize:[25,41], iconAnchor:[12,41],
    popupAnchor:[1,-34], shadowSize:[41,41]
  });
}

/* ===== 3.  –î–∞–Ω—ñ ========================================================== */
const plots=[
  {visible:true,type:'plot' ,color:'blue'  ,coords:[49.818339,30.991579],name:'–û—á–µ—Ä–µ—Ç—è–Ω–µ',
   price:'$4900',size:'0.52 –≥–∞',dist:'60 –∫–º',link:'https://sites.google.com/view/zelenky-35'},
  {visible:true,type:'house',color:'green' ,coords:[49.858071,30.354294],name:'–ú. –ê–Ω—Ç–æ–Ω—ñ–≤–∫–∞ (—Ö–∞—Ç–∞)',
   price:'$6900',size:'0.31 –≥–∞',dist:'74 –∫–º',link:'https://sites.google.com/view/mala-antonivka-hata'},
  {visible:true,type:'plot' ,color:'red'   ,coords:[50.177453,29.923875],name:'–î–æ—Ä–æ–≥–∏–Ω–∫–∞',
   price:'$7500',size:'0.26 –≥–∞',dist:'55 –∫–º',link:'https://sites.google.com/view/dorogynka7500'},
  {visible:true,type:'plot' ,color:'yellow',coords:[49.955224,29.669791],name:'–°—Ç–∞–≤–∏—â–µ 25',
   price:'$5900',size:'0.25 –≥–∞',dist:'80 –∫–º',link:'https://sites.google.com/view/5-900'},
  {visible:true,type:'plot' ,color:'orange',coords:[49.769642,31.547382],name:'–ö–µ–ª–µ–±–µ—Ä–¥–∞',
   price:'$1500',size:'0.10 –≥–∞',dist:'115 –∫–º',link:'https://sites.google.com/view/keleberda-1500'},
  /* –∑–∞–≥–æ—Ç–æ–≤–∫–∏ */
  {visible:false,type:'house',color:'blue'  ,coords:[0,0],name:'‚Äî',price:'$',size:'',dist:'',link:'#'},
  {visible:false,type:'plot' ,color:'green' ,coords:[0,0],name:'‚Äî',price:'$',size:'',dist:'',link:'#'},
  {visible:false,type:'house',color:'yellow',coords:[0,0],name:'‚Äî',price:'$',size:'',dist:'',link:'#'},
  {visible:false,type:'plot' ,color:'red'   ,coords:[0,0],name:'‚Äî',price:'$',size:'',dist:'',link:'#'},
  {visible:false,type:'plot' ,color:'orange',coords:[0,0],name:'‚Äî',price:'$',size:'',dist:'',link:'#'}
];

/* ===== 4.  –ú–∞—Ä–∫–µ—Ä–∏ ======================================================== */
plots.forEach(p=>{
  if(!p.visible) return;
  const m=L.marker(p.coords,{icon:getIcon(p.color,p.type)}).addTo(map);
  m.bindPopup(`<b>${p.name}</b><br>
               –¶—ñ–Ω–∞: ${p.price}<br>
               –ü–ª–æ—â–∞: ${p.size}<br>
               –í—ñ–¥—Å—Ç–∞–Ω—å: ${p.dist}<br>
               <a href="${p.link}" target="_blank">–î–æ–∫–ª–∞–¥–Ω—ñ—à–µ</a>`);
  if(innerWidth>768){
    m.on('mouseover',()=>m.openPopup())
     .on('mouseout',()=>setTimeout(()=>m.closePopup(),800));
  }
});

/* ===== 5.  –õ–µ–≥–µ–Ω–¥–∞ ======================================================== */
const legendItems=[
  {c:'blue'  ,l:'–ê–∫—Ç–∏–≤–Ω–∞'},
  {c:'green' ,l:'–†–µ–∑–µ—Ä–≤/–ê–≤–∞–Ω—Å'},
  {c:'red'   ,l:'–ü—Ä–æ–¥–∞–Ω–æ'},
  {c:'yellow',l:'–£–º–æ–≤–Ω–æ –≤—ñ–ª—å–Ω–∞'},
  {c:'orange',l:'–ù–æ–≤–∞'}
];
L.control({position:'bottomleft'}).onAdd=()=>{
  const d=L.DomUtil.create('div','legend');
  legendItems.forEach(i=>{
    d.innerHTML+=`<img src="${base}marker-icon-${i.c}.png" width="13"> ${i.l}<br>`;
  });
  d.innerHTML+=`<span style="font-size:16px">üè† ‚Äî –¥—ñ–ª—è–Ω–∫–∞ –∑ –±—É–¥–∏–Ω–∫–æ–º</span>`;
  return d;
}.addTo(map);
</script>
</body>
</html>
