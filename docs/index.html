<!-- ==== початок нового index.html (v2) ==== -->
<!DOCTYPE html><html lang="uk"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Lots UA – Інтерактивна карта</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
<style>
body{margin:0;font-family:Arial,sans-serif;text-align:center;height:100vh}
#map{height:calc(100vh - 60px)}
.header{display:flex;justify-content:space-between;align-items:center;
        background:linear-gradient(to right,#0057B7,#FFD700);color:#fff;font-weight:bold;padding:5px 10px}
.header .title{flex-grow:1;text-align:center;font-size:20px}
.legend{background:rgba(255,255,255,.9);padding:6px 8px;border-radius:4px;
        box-shadow:0 0 4px rgba(0,0,0,.2);font-size:14px;line-height:22px}
.legend img{vertical-align:middle;margin-right:4px}
</style></head><body>
<div class="header"><div>+380 68 715 59 96</div><div class="title">Актуальні пропозиції</div></div>
<div id="map"></div>

<script>
/* ---------- базова карта ---------- */
const map=L.map('map').setView([50.4501,30.5234],8);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
 {attribution:'&copy; OpenStreetMap'}).addTo(map);

/* ---------- набір іконок ---------- */
const base='https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/';
const shadow=base+'marker-shadow.png';
function icon(color,kind){
  const file=(kind==='house'?'marker-icon-'+color+'-house.png':'marker-icon-'+color+'.png');
  return new L.Icon({iconUrl:base+file,shadowUrl:shadow,
        iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});
}

/* ---------- масив ділянок ---------- */
/*  visible:false  -> маркер приховано, але шаблон готовий до заповнення  */
const plots=[
  {visible:true ,type:'plot' ,color:'blue'  ,coords:[49.818339,30.991579],name:'Очеретяне',
   price:'$4 900',size:'0.52 га',dist:'60 км',link:'https://sites.google.com/view/zelenky-35'},
  {visible:true ,type:'house',color:'green' ,coords:[49.858071,30.354294],name:'Мала Антонівка з хатою',
   price:'$6 900',size:'0.31 га',dist:'74 км',link:'https://sites.google.com/view/mala-antonivka-hata'},
  /* ---- ШАБЛОН ДЛЯ ЮЛІ ----
  {visible:false,type:'plot',color:'yellow',coords:[0,0],
   name:'Назва',price:'$0',size:'0 га',dist:'0 км',link:'#'},
  -------------------------------- */
];

/* ---------- виведення маркерів ---------- */
plots.forEach(p=>{
  if(!p.visible) return;
  const ic=icon(p.color,p.type);
  const m=L.marker(p.coords,{icon:ic}).addTo(map);
  m.bindPopup(`<b>${p.name}</b><br>Ціна: ${p.price}<br>Площа: ${p.size}<br>Відстань: ${p.dist}<br><a href="${p.link}" target="_blank">Докладніше</a>`);
  if(innerWidth>768){m.on('mouseover',()=>m.openPopup()).on('mouseout',()=>setTimeout(()=>m.closePopup(),800));}
});

/* ---------- легенда ---------- */
const legendItems=[
  {c:'blue'  ,l:'Активна'},
  {c:'green' ,l:'Резерв/Аванс'},
  {c:'red'   ,l:'Продано'},
  {c:'yellow',l:'Умовно вільна'},
  {c:'orange',l:'Нова'}
];
const leg=L.control({position:'bottomleft'});
leg.onAdd=()=>{const d=L.DomUtil.create('div','legend');
  legendItems.forEach(i=>d.innerHTML+=`<img src="${base}marker-icon-${i.c}.png" width="13"> ${i.l}<br>`);return d};
leg.addTo(map);
</script></body></html>
<!-- ==== кінець нового index.html ==== -->
