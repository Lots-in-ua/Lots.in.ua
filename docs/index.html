<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Lots UA — інтерактивна карта</title>

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

<style>
body{margin:0;font-family:Arial,sans-serif;height:100vh}
#map{height:calc(100vh - 60px)}
.header{display:flex;justify-content:space-between;align-items:center;
        background:linear-gradient(to right,#0057B7,#FFD700);color:#fff;font-weight:bold;
        padding:5px 10px}
.header .title{flex-grow:1;text-align:center;font-size:20px}
.legend{background:rgba(255,255,255,.9);padding:6px 8px;border-radius:4px;
        box-shadow:0 0 4px rgba(0,0,0,.2);font-size:14px;line-height:22px}
.legend img{vertical-align:middle;margin-right:4px}
</style>
</head>
<body>
  <div class="header">
    <div>+380 68 715 59 96</div>
    <div class="title">Актуальні пропозиції</div>
  </div>
  <div id="map"></div>

<script>
/* 1. Базова карта */
const map=L.map('map').setView([50.45,30.5234],8);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
 {attribution:'&copy; OpenStreetMap contributors'}).addTo(map);

/* 2. Іконки (PNG із CDN) */
const CDN='https://cdn.jsdelivr.net/npm/leaflet-color-markers@1.1.1/img/';
const shadow=CDN+'marker-shadow.png';
function icon(color,type){
  const opts={
    iconUrl:CDN+`marker-icon-${color}.png`,
    shadowUrl:shadow,
    iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]
  };
  if(type==='house'){                 // збільшуємо «домик»
    opts.iconSize=[35,55];
    opts.iconAnchor=[17,55];
  }
  return new L.Icon(opts);
}

/* 3. Дані */
const plots=[
  {v:true ,t:'plot' ,c:'blue'  ,xy:[49.818339,30.991579],n:'Очеретяне',
   p:'$4900',s:'0.52 га',d:'60 км',u:'https://sites.google.com/view/zelenky-35'},
  {v:true ,t:'house',c:'green' ,xy:[49.858071,30.354294],n:'М. Антонівка (хата)',
   p:'$6900',s:'0.31 га',d:'74 км',u:'https://sites.google.com/view/mala-antonivka-hata'},
  {v:true ,t:'plot' ,c:'red'   ,xy:[50.177453,29.923875],n:'Дорогинка',
   p:'$7500',s:'0.26 га',d:'55 км',u:'https://sites.google.com/view/dorogynka7500'},
  {v:true ,t:'plot' ,c:'yellow',xy:[49.955224,29.669791],n:'Ставище 25',
   p:'$5900',s:'0.25 га',d:'80 км',u:'https://sites.google.com/view/5-900'},
  {v:true ,t:'plot' ,c:'orange',xy:[49.769642,31.547382],n:'Келеберда',
   p:'$1500',s:'0.10 га',d:'115 км',u:'https://sites.google.com/view/keleberda-1500'}
];

/* 4. Маркери */
plots.forEach(o=>{
  if(!o.v) return;
  L.marker(o.xy,{icon:icon(o.c,o.t),
                 zIndexOffset:o.t==='plot'?500:0})
   .addTo(map)
   .bindPopup(`<b>${o.n}</b><br>
               Ціна: ${o.p}<br>
               Площа: ${o.s}<br>
               Відстань: ${o.d}<br>
               <a href="${o.u}" target="_blank">Докладніше</a>`);
});

/* 5. Легенда */
L.control({position:'bottomleft'}).onAdd=()=>{
  const d=L.DomUtil.create('div','legend');
  [['blue','Активна'],['green','Резерв/Аванс'],['red','Продано'],
   ['yellow','Умовно вільна'],['orange','Нова']]
   .forEach(([c,l])=>d.innerHTML+=
     `<img src="${CDN}marker-icon-${c}.png" width="13"> ${l}<br>`);
  d.innerHTML+=`<img src="${CDN}marker-icon-green.png" width="18"
                    style="transform:scale(1.4);vertical-align:middle"> ділянка з&nbsp;будинком`;
  return d;
}.addTo(map);
</script>
</body>
</html>
